var e,t=globalThis,i={},s={},n=t.parcelRequire7921;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},t.parcelRequire7921=n);var a=n.register;function r(e,t){let{tag:i,id:s,className:n}=function(e){let t=e.split(/([.#])/),i="",s="";for(let e=1;e<t.length;e+=2)switch(t[e]){case".":i+=` ${t[e+1]}`;break;case"#":s=t[e+1]}return{className:i.trim(),tag:t[0]||"div",id:s}}(e),a=t?document.createElementNS(t,i):document.createElement(i);return s&&(a.id=s),n&&(t?a.setAttribute("class",n):a.className=n),a}function o(e,t,i){let s=t.__redom_lifecycle;if(l(s)){t.__redom_lifecycle={};return}let n=i;for(t.__redom_mounted&&u(t,"onunmount");n;){let e=n.__redom_lifecycle||{};for(let t in s)e[t]&&(e[t]-=s[t]);l(e)&&(n.__redom_lifecycle=null),n=n.parentNode}}function l(e){if(null==e)return!0;for(let t in e)if(e[t])return!1;return!0}a("eZcI0",function(e,t){var i=e.exports&&e.exports.__assign||function(){return(i=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},s=n("3Qr0b"),a=n("4yZme"),r=n("5TV0U"),o=n("eQTcA"),l=n("69u1Q"),h={},d={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},c=[d.VISA,d.MASTERCARD,d.AMERICAN_EXPRESS,d.DINERS_CLUB,d.DISCOVER,d.JCB,d.UNIONPAY,d.MAESTRO,d.ELO,d.MIR,d.HIPER,d.HIPERCARD],u=l.clone(c);function p(e){return h[e]||s[e]}function m(e,t){void 0===t&&(t=!1);var i=u.indexOf(e);if(!t&&-1===i)throw Error('"'+e+'" is not a supported card type.');return i}function g(e){var t=[];if(!r.isValidInputType(e))return t;if(0===e.length)return u.map(function(e){return l.clone(p(e))});u.forEach(function(i){var s=p(i);a.addMatchingCardsToResults(e,s,t)});var i=o.findBestMatch(t);return i?[i]:t}g.getTypeInfo=function(e){return l.clone(p(e))},g.removeCard=function(e){var t=m(e);u.splice(t,1)},g.addCard=function(e){var t=m(e.type,!0);h[e.type]=e,-1===t&&u.push(e.type)},g.updateCard=function(e,t){var n=h[e]||s[e];if(!n)throw Error('"'+e+"\" is not a recognized type. Use `addCard` instead.'");if(t.type&&n.type!==t.type)throw Error("Cannot overwrite type parameter.");var a=l.clone(n);h[(a=i(i({},a),t)).type]=a},g.changeOrder=function(e,t){var i=m(e);u.splice(i,1),u.splice(t,0,e)},g.resetModifications=function(){u=l.clone(c),h={}},g.types=d,e.exports=g}),a("3Qr0b",function(e,t){e.exports={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}}}),a("4yZme",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.addMatchingCardsToResults=void 0;var i=n("69u1Q"),s=n("3Xr2c");e.exports.addMatchingCardsToResults=function(e,t,n){var a,r;for(a=0;a<t.patterns.length;a++){var o=t.patterns[a];if(s.matches(e,o)){var l=i.clone(t);r=Array.isArray(o)?String(o[0]).length:String(o).length,e.length>=r&&(l.matchStrength=r),n.push(l);break}}}}),a("69u1Q",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.clone=void 0,e.exports.clone=function(e){return e?JSON.parse(JSON.stringify(e)):null}}),a("3Xr2c",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.matches=void 0,e.exports.matches=function(e,t){var i,s,n,a,r,o;return Array.isArray(t)?(i=t[0],s=t[1],n=String(i).length,r=parseInt(a=e.substr(0,n),10),i=parseInt(String(i).substr(0,a.length),10),s=parseInt(String(s).substr(0,a.length),10),r>=i&&r<=s):(o=String(o=t)).substring(0,e.length)===e.substring(0,o.length)}}),a("5TV0U",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isValidInputType=void 0,e.exports.isValidInputType=function(e){return"string"==typeof e||e instanceof String}}),a("eQTcA",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.findBestMatch=void 0,e.exports.findBestMatch=function(e){var t;return(t=e.filter(function(e){return e.matchStrength}).length)>0&&t===e.length?e.reduce(function(e,t){return!e||Number(e.matchStrength)<Number(t.matchStrength)?t:e}):null}});const h=["onmount","onremount","onunmount"],d="undefined"!=typeof window&&"ShadowRoot"in window;function c(e,t,i,s){let n=v(e),a=v(t);t===a&&a.__redom_view&&(t=a.__redom_view),t!==a&&(a.__redom_view=t);let r=a.__redom_mounted,l=a.parentNode;if(r&&l!==n&&o(t,a,l),null!=i){if(s){let e=v(i);e.__redom_mounted&&u(e,"onunmount"),n.replaceChild(a,e)}else n.insertBefore(a,v(i))}else n.appendChild(a);return function(e,t,i,s){let n=t.__redom_lifecycle||(t.__redom_lifecycle={}),a=i===s,r=!1;for(let i of h)!a&&e!==t&&i in e&&(n[i]=(n[i]||0)+1),n[i]&&(r=!0);if(!r){t.__redom_lifecycle={};return}let o=i,l=!1;for((a||o&&o.__redom_mounted)&&(u(t,a?"onremount":"onmount"),l=!0);o;){let e=o.parentNode,t=o.__redom_lifecycle||(o.__redom_lifecycle={});for(let e in n)t[e]=(t[e]||0)+n[e];if(l)break;(o.nodeType===Node.DOCUMENT_NODE||d&&o instanceof ShadowRoot||e&&e.__redom_mounted)&&(u(o,a?"onremount":"onmount"),l=!0),o=e}}(t,a,n,l),t}function u(e,t){"onmount"===t||"onremount"===t?e.__redom_mounted=!0:"onunmount"===t&&(e.__redom_mounted=!1);let i=e.__redom_lifecycle;if(!i)return;let s=e.__redom_view,n=0;for(let e in s&&s[t]&&s[t](),i)e&&n++;if(n){let i=e.firstChild;for(;i;){let e=i.nextSibling;u(i,t),i=e}}}function p(e,t,i){e.style[t]=null==i?"":i}const m="http://www.w3.org/1999/xlink";function g(e,t,i){for(let s of t){if(0!==s&&!s)continue;let t=typeof s;"function"===t?s(e):"string"===t||"number"===t?e.appendChild(document.createTextNode(null!=s?s:"")):f(v(s))?c(e,s):s.length?g(e,s,i):"object"===t&&function e(t,i,s,n){let a=v(t);if("object"==typeof i)for(let t in i)e(a,t,i[t],n);else{let e=a instanceof SVGElement,t="function"==typeof s;if("style"===i&&"object"==typeof s)!function(e,t,i){let s=v(e);if("object"==typeof t)for(let e in t)p(s,e,t[e]);else p(s,t,void 0)}(a,s);else if(e&&t)a[i]=s;else if("dataset"===i)!function e(t,i,s){if("object"==typeof i)for(let s in i)e(t,s,i[s]);else null!=s?t.dataset[i]=s:delete t.dataset[i]}(a,s);else if(!e&&(i in a||t)&&"list"!==i)a[i]=s;else{if(e&&"xlink"===i){!function e(t,i,s){if("object"==typeof i)for(let s in i)e(t,s,i[s]);else null!=s?t.setAttributeNS(m,i,s):t.removeAttributeNS(m,i,s)}(a,s);return}n&&"class"===i&&(s=a.className+" "+s),null==s?a.removeAttribute(i):a.setAttribute(i,s)}}}(e,s,null,i)}}function v(e){return e.nodeType&&e||!e.el&&e||v(e.el)}function f(e){return e&&e.nodeType}function y(e,...t){let i;let s=typeof e;if("string"===s)i=r(e);else if("function"===s)i=new e(...t);else throw Error("At least one argument required");return g(v(i),t,!0),i}y.extend=function(...e){return y.bind(this,...e)};const D="http://www.w3.org/2000/svg";function w(e,...t){let i;let s=typeof e;if("string"===s)i=r(e,D);else if("function"===s)i=new e(...t);else throw Error("At least one argument required");return g(v(i),t,!0),i}w.extend=function(...e){return w.bind(this,...e)},w.ns=D;const b=()=>{let e=y("div.payment-title",y("h1","Payment Information")),t=y("div#ccsingle","logo"),i=w("svg#cardfront",{version:"1.1",id:"cardfront",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 750 471",style:"enable-background:new 0 0 750 471;","xml:space":"preserve"}),s=`
    <g id="Front">
      <g id="CardBackground">
        <g id="Page-1_1_">
          <g id="amex_1_">
            <path id="Rectangle-1_1_" class="lightcolor grey" d="M40,0h670c22.1,0,40,17.9,40,40v391c0,22.1-17.9,40-40,40H40c-22.1,0-40-17.9-40-40V40
                  C0,17.9,17.9,0,40,0z" />
          </g>
        </g>
        <path class="darkcolor greydark"
          d="M750,431V193.2c-217.6-57.5-556.4-13.5-750,24.9V431c0,22.1,17.9,40,40,40h670C732.1,471,750,453.1,750,431z" />
      </g>
      <text transform="matrix(1 0 0 1 60.106 295.0121)" id="svgnumber"
        class="st2 st3 st4">XXXX XXXX XXXX XXXX</text>
      <text transform="matrix(1 0 0 1 54.1064 428.1723)" id="svgname"
        class="st2 st5 st6">NAME SURNAME</text>
      <text transform="matrix(1 0 0 1 54.1074 389.8793)"
        class="st7 st5 st8">cardholder name</text>
      <text transform="matrix(1 0 0 1 479.7754 388.8793)"
        class="st7 st5 st8">expiration</text>
      <text transform="matrix(1 0 0 1 65.1054 241.5)"
        class="st7 st5 st8">card number</text>
      <g>
        <text transform="matrix(1 0 0 1 574.4219 433.8095)" id="svgexpire"
          class="st2 st5 st9">MM/YY</text>
        <text transform="matrix(1 0 0 1 479.3848 417.0097)"
          class="st2 st10 st11">VALID</text>
        <text transform="matrix(1 0 0 1 479.3848 435.6762)"
          class="st2 st10 st11">THRU</text>
        <polygon class="st2"
          points="554.5,421 540.4,414.2 540.4,427.9" />
      </g>
      <g id="cchip">
        <g>
          <path class="st2"
            d="M168.1,143.6H82.9c-10.2,0-18.5-8.3-18.5-18.5V74.9c0-10.2,8.3-18.5,18.5-18.5h85.3
              c10.2,0,18.5,8.3,18.5,18.5v50.2C186.6,135.3,178.3,143.6,168.1,143.6z" />
        </g>
        <g>
          <g>
            <rect x="82" y="70" class="st12" width="1.5" height="60" />
          </g>
          <g>
            <rect x="167.4" y="70" class="st12" width="1.5" height="60" />
          </g>
          <g>
            <path class="st12"
              d="M125.5,130.8c-10.2,0-18.5-8.3-18.5-18.5c0-4.6,1.7-8.9,4.7-12.3c-3-3.4-4.7-7.7-4.7-12.3
                  c0-10.2,8.3-18.5,18.5-18.5s18.5,8.3,18.5,18.5c0,4.6-1.7,8.9-4.7,12.3c3,3.4,4.7,7.7,4.7,12.3
                  C143.9,122.5,135.7,130.8,125.5,130.8z M125.5,70.8c-9.3,0-16.9,7.6-16.9,16.9c0,4.4,1.7,8.6,4.8,11.8l0.5,0.5l-0.5,0.5
                  c-3.1,3.2-4.8,7.4-4.8,11.8c0,9.3,7.6,16.9,16.9,16.9s16.9-7.6,16.9-16.9c0-4.4-1.7-8.6-4.8-11.8l-0.5-0.5l0.5-0.5
                  c3.1-3.2,4.8-7.4,4.8-11.8C142.4,78.4,134.8,70.8,125.5,70.8z" />
          </g>
          <g>
            <rect x="82.8" y="82.1" class="st12" width="25.8"
              height="1.5" />
          </g>
          <g>
            <rect x="82.8" y="117.9" class="st12" width="26.1"
              height="1.5" />
          </g>
          <g>
            <rect x="142.4" y="82.1" class="st12" width="25.8"
              height="1.5" />
          </g>
          <g>
            <rect x="142" y="117.9" class="st12" width="26.2"
              height="1.5" />
          </g>
        </g>
      </g>
    </g>
    <g id="Back">
    </g>
  `;i.innerHTML=s;let n=w("svg#cardfront",{version:"1.1",id:"cardback",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 750 471",style:"enable-background:new 0 0 750 471;","xml:space":"preserve"}),a=`
    <g id="Front">
      <line class="st0" x1="35.3" y1="10.4" x2="36.7" y2="11" />
    </g>
    <g id="Back">
      <g id="Page-1_2_">
        <g id="amex_2_">
          <path id="Rectangle-1_2_" class="darkcolor greydark" d="M40,0h670c22.1,0,40,17.9,40,40v391c0,22.1-17.9,40-40,40H40c-22.1,0-40-17.9-40-40V40
        C0,17.9,17.9,0,40,0z" />
        </g>
      </g>
      <rect y="61.6" class="st2" width="750" height="78" />
      <g>
        <path class="st3" d="M701.1,249.1H48.9c-3.3,0-6-2.7-6-6v-52.5c0-3.3,2.7-6,6-6h652.1c3.3,0,6,2.7,6,6v52.5
                  C707.1,246.4,704.4,249.1,701.1,249.1z" />
        <rect x="42.9" y="198.6" class="st4" width="664.1"
          height="10.5" />
        <rect x="42.9" y="224.5" class="st4" width="664.1"
          height="10.5" />
        <path class="st5"
          d="M701.1,184.6H618h-8h-10v64.5h10h8h83.1c3.3,0,6-2.7,6-6v-52.5C707.1,187.3,704.4,184.6,701.1,184.6z" />
      </g>
      <text transform="matrix(1 0 0 1 621.999 227.2734)" id="svgsecurity"
        class="st6 st7">XXX</text>
      <g class="st8">
        <text transform="matrix(1 0 0 1 518.083 280.0879)"
          class="st9 st6 st10">security code</text>
      </g>
      <rect x="58.1" y="378.6" class="st11" width="375.5" height="13.5" />
      <rect x="58.1" y="405.6" class="st11" width="421.7" height="13.5" />
      <text transform="matrix(1 0 0 1 59.5073 228.6099)" id="svgnameback"
        class="st12 st13">John Johnson</text>
    </g>

  `;n.innerHTML=a;let r=y("div.form-container",[y("div.field-container",[y("label",{for:"name"},"Name"),y("input#name",{type:"text",maxlength:"20",placeholder:"Name Surname"})]),y("div.field-container",[y("label",{for:"cardnumber"},"Card Number"),y("input#cardnumber",{type:"text",pattern:"[0-9]*",inputmode:"numeric",placeholder:"XXXX XXXX XXXX XXXX"}),y("svg#ccicon",{class:"ccicon",width:"750",height:"471",viewBox:"0 0 750 471",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},[])]),y("div.field-container",[y("label",{for:"expirationdate"},"Expiration (mm/yy)"),y("input#expirationdate",{type:"text",pattern:"[0-9]*",readonly:!0,placeholder:"MM/YY"})]),y("div.field-container",[y("label",{for:"securitycode"},"Security Code"),y("input#securitycode",{type:"text",pattern:"[0-9]*",inputmode:"numeric",placeholder:"XXX"})])]),l=y("div.front",[t,i]),h=y("div.back",n),d=y("div.creditcard",[l,h]),u=y("div.container",d);return c(document.body,u),!function(e,...t){let i=v(e),s=function e(t,i,s){let n=s,a=Array(i.length);for(let e=0;e<i.length;e++)a[e]=i[e]&&v(i[e]);for(let s=0;s<i.length;s++){let r=i[s];if(!r)continue;let o=a[s];if(o===n){n=n.nextSibling;continue}if(f(o)){let e=n&&n.nextSibling,i=null!=r.__redom_index&&e===a[s+1];c(t,r,n,i),i&&(n=e);continue}null!=r.length&&(n=e(t,r,n))}return n}(e,t,i.firstChild);for(;s;){let t=s.nextSibling;(function(e,t){let i=v(e),s=v(t);t===s&&s.__redom_view&&(t=s.__redom_view),s.parentNode&&(o(t,s,i),i.removeChild(s))})(e,s),s=t}}(document.body,[e,u,r]),{paymentTitle:e,ccsingle:t,cardFront:i,cardBack:n,formContainer:r,creditCardFront:l,creditCardBack:h,creditCard:d,container:u}};var _=(e=function(){var e={d:function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return R}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},s={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,fixedHeight:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?t.querySelector(e):e}function a(){let{tagName:e="div",className:t="",innerHtml:i="",id:s="",attrs:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=document.createElement(e);return t&&a.classList.add(...t.split(" ")),s&&(a.id=s),i&&(a.innerHTML=i),n&&r(a,n),a}function r(e,t){for(let[i,s]of Object.entries(t))void 0!==s&&e.setAttribute(i,s);return e}function o(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function l(e){let t=e.getHours(),{hours:i,dayPeriod:s}=h(t);return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:10>e.getDate()?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:t,fullHours:d(t),hours12:i,dayPeriod:s,fullHours12:d(i),minutes:e.getMinutes(),fullMinutes:10>e.getMinutes()?"0"+e.getMinutes():e.getMinutes()}}function h(e){return{dayPeriod:e>11?"pm":"am",hours:e%12==0?12:e%12}}function d(e){return e<10?"0"+e:e}function c(e){let t=10*Math.floor(e.getFullYear()/10);return[t,t+9]}function u(){let e=[];for(var t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];return i.forEach(t=>{if("object"==typeof t)for(let i in t)t[i]&&e.push(i);else t&&e.push(t)}),e.join(" ")}function p(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.days;if(!e||!t)return!1;let n=l(e),a=l(t);return({[i.days]:n.date===a.date&&n.month===a.month&&n.year===a.year,[i.months]:n.month===a.month&&n.year===a.year,[i.years]:n.year===a.year})[s]}function m(e,t,i){let s=v(e,!1).getTime(),n=v(t,!1).getTime();return i?s>=n:s>n}function g(e,t){return!m(e,t,!0)}function v(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Date(e.getTime());return"boolean"!=typeof t||t||function(e){e.setHours(0,0,0,0)}(i),i}function f(e,t,i){e.length?e.forEach(e=>{e.addEventListener(t,i)}):e.addEventListener(t,i)}function y(e,t){return!(!e||e===document||e instanceof DocumentFragment)&&(e.matches(t)?e:y(e.parentNode,t))}function D(e,t,i){return e>i?i:e<t?t:e}function w(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return i.filter(e=>e).forEach(t=>{for(let[i,s]of Object.entries(t))if(void 0!==s&&"[object Object]"===s.toString()){let t=void 0!==e[i]?e[i].toString():void 0,n=s.toString(),a=Array.isArray(s)?[]:{};e[i]=e[i]?t!==n?a:e[i]:a,w(e[i],s)}else e[i]=s}),e}function b(e){let t=e;return e instanceof Date||("string"==typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)&&(e+="T00:00:00"),t=new Date(e)),isNaN(t.getTime())&&(console.log(`Unable to convert value "${e}" to Date object`),t=!1),t}function _(e){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")}function C(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class M{constructor(){let{type:e,date:t,dp:i,opts:s,body:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};C(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),C(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),C(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),C(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),C(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),C(this,"onChangeFocusDate",e=>{if(!e)return void(this.focused&&this.removeFocus());let t=p(e,this.date,this.type);t?this.focus():!t&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),C(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this._handleClasses(),this.$cell)),this.type=e,this.singleType=this.type.slice(0,-1),this.date=t,this.dp=i,this.opts=s,this.body=n,this.customData=!1,this.init()}init(){var e;let{onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),null!==(e=this.customData)&&void 0!==e&&e.disabled&&this.dp.disableDate(this.date)}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:t,month:i,date:s}=l(this.date),n=(null===(e=this.customData)||void 0===e?void 0:e.attrs)||{};this.$cell=a({attrs:{"data-year":t,"data-month":i,"data-date":s,...n}}),this.$cell.adpCell=this}_getClassName(){var e;let t=new Date,{selectOtherMonths:s,selectOtherYears:n}=this.opts,{minDate:a,maxDate:r,isDateDisabled:o}=this.dp,{day:h}=l(this.date),d=this._isOutOfMinMaxRange(),c=o(this.date),m=u("air-datepicker-cell",`-${this.singleType}-`,{"-current-":p(t,this.date,this.type),"-min-date-":a&&p(a,this.date,this.type),"-max-date-":r&&p(r,this.date,this.type)}),g="";switch(this.type){case i.days:g=u({"-weekend-":this.dp.isWeekend(h),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!s||d||c});break;case i.months:g=u({"-disabled-":d});break;case i.years:g=u({"-other-decade-":this.isOtherDecade,"-disabled-":d||this.isOtherDecade&&!n})}return u(m,g,null===(e=this.customData)||void 0===e?void 0:e.classes).split(" ")}_getHtml(){var e;let{year:t,month:s,date:n}=l(this.date),{showOtherMonths:a,showOtherYears:r}=this.opts;if(null!==(e=this.customData)&&void 0!==e&&e.html)return this.customData.html;switch(this.type){case i.days:return!a&&this.isOtherMonth?"":n;case i.months:return this.dp.locale[this.opts.monthsField][s];case i.years:return!r&&this.isOtherDecade?"":t}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:t}=this.dp,{type:s,date:n}=this,{month:a,year:r,date:o}=l(n),h=s===i.days,d=s===i.years,c=!!e&&new Date(r,d?e.getMonth():a,h?o:e.getDate()),u=!!t&&new Date(r,d?t.getMonth():a,h?o:t.getDate());return e&&t?g(c,e)||m(u,t):e?g(c,e):t?m(u,t):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){var e,t,i;let{selectedDates:s,focusDate:n,rangeDateTo:a,rangeDateFrom:r}=this.dp,o=s.length;if(!o)return;let l=r,h=a;if(1===o&&n){let e=m(n,s[0]);l=e?s[0]:n,h=e?n:s[0]}let d=u({"-in-range-":l&&h&&(e=this.date,t=l,i=h,m(e,t)&&g(e,i)),"-range-from-":l&&p(this.date,l,this.type),"-range-to-":h&&p(this.date,h,this.type)});this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),d&&this.$cell.classList.add(...d.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){p(this.dp.focusDate,this.date,this.type)&&this.focus()}_handleClasses(){this.$cell.setAttribute("class",""),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),this.dp.opts.range&&this._handleRangeStatus()),this.$cell.classList.add(...this._getClassName())}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function k(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let x={[i.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${i.days}-"></div>`,[i.months]:`<div class="air-datepicker-body--cells -${i.months}-"></div>`,[i.years]:`<div class="air-datepicker-body--cells -${i.years}-"></div>`},$=".air-datepicker-cell";class S{constructor(e){let{dp:t,type:s,opts:n}=e;k(this,"handleClick",e=>{let t=e.target.closest($).adpCell;if(t.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let i=this.dp._checkIfDateIsSelected(t.date,t.type);i?this.dp._handleAlreadySelectedDates(i,t.date):this.dp.selectDate(t.date)}),k(this,"handleDayNameClick",e=>{let t=e.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(t),datepicker:this.dp})}),k(this,"onChangeCurrentView",e=>{e!==this.type?this.hide():(this.show(),this.render())}),k(this,"onMouseOverCell",e=>{let t=y(e.target,$);this.dp.setFocusDate(!!t&&t.adpCell.date)}),k(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),k(this,"onClickBody",e=>{let{onClickDayName:t}=this.opts,i=e.target;i.closest($)&&this.handleClick(e),t&&i.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(e)}),k(this,"onMouseDown",e=>{this.pressed=!0;let t=y(e.target,$),i=t&&t.adpCell;p(i.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),p(i.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),k(this,"onMouseMove",e=>{if(!this.pressed||!this.dp.isMinViewReached)return;e.preventDefault();let t=y(e.target,$),i=t&&t.adpCell,{selectedDates:s,rangeDateTo:n,rangeDateFrom:a}=this.dp;if(!i||i.isDisabled)return;let{date:r}=i;if(2===s.length){if(this.rangeFromFocused&&!m(r,n)){let{hours:e,minutes:t}=l(a);r.setHours(e),r.setMinutes(t),this.dp.rangeDateFrom=r,this.dp.replaceDate(a,r)}if(this.rangeToFocused&&!g(r,a)){let{hours:e,minutes:t}=l(n);r.setHours(e),r.setMinutes(t),this.dp.rangeDateTo=r,this.dp.replaceDate(n,r)}}}),k(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),k(this,"onChangeViewDate",(e,t)=>{if(!this.isVisible)return;let s=c(e),n=c(t);switch(this.dp.currentView){case i.days:if(p(e,t,i.months))return;break;case i.months:if(p(e,t,i.years))return;break;case i.years:if(s[0]===n[0]&&s[1]===n[1])return}this.render()}),k(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(e=>{this.$cells.appendChild(e.render())})}),this.dp=t,this.type=s,this.opts=n,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:t}=this.opts;f(this.$el,"mouseover",this.onMouseOverCell),f(this.$el,"mouseout",this.onMouseOutCell),f(this.$el,"click",this.onClickBody),e&&t&&(f(this.$el,"mousedown",this.onMouseDown),f(this.$el,"mousemove",this.onMouseMove),f(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=a({className:`air-datepicker-body -${this.type}-`,innerHtml:x[this.type]}),this.$names=n(".air-datepicker-body--day-names",this.$el),this.$cells=n(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,t="",s=this.dp.isWeekend,{onClickDayName:n}=this.opts,a=e,r=0;for(;r<7;){let e=a%7;t+=`<div class="${u("air-datepicker-body--day-name",{[i.cssClassWeekend]:s(e),"-clickable-":!!n})}" data-day-index='${e}'>${this.dp.locale.daysMin[e]}</div>`,r++,a++}return t}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(e){let{type:t,dp:i,opts:s}=this;return new M({type:t,dp:i,opts:s,date:e,body:this})}_generateCells(){S.getDatesFunction(this.type)(this.dp,e=>{this.cells.push(this._generateCell(e))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(e=>e.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(e,t){let{viewDate:i,opts:{fixedHeight:s},locale:{firstDay:n}}=e,a=o(i),{year:r,month:h}=l(i),d=new Date(r,h,1),c=new Date(r,h,a),u=d.getDay()-n,p=6-c.getDay()+n;u=u<0?u+7:u,p=p>6?p-7:p;let m=function(e,t){let{year:i,month:s,date:n}=l(e);return new Date(i,s,n-t)}(d,u),g=a+u+p,v=m.getDate(),{year:f,month:y}=l(m),D=0;s&&(g=42);let w=[];for(;D<g;){let e=new Date(f,y,v+D);t&&t(e),w.push(e),D++}return w}static getMonthsDates(e,t){let{year:i}=e.parsedViewDate,s=0,n=[];for(;s<12;){let e=new Date(i,s);n.push(e),t&&t(e),s++}return n}static getYearsDates(e,t){let i=c(e.viewDate),s=i[0]-1,n=i[1]+1,a=s,r=[];for(;a<=n;){let e=new Date(a,0);r.push(e),t&&t(e),a++}return r}static getDatesFunction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.days;return({[i.days]:S.getDaysDates,[i.months]:S.getMonthsDates,[i.years]:S.getYearsDates})[e]}}function T(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class V{constructor(e){let{dp:t,opts:i}=e;T(this,"onClickNav",e=>{let t=y(e.target,".air-datepicker-nav--action");if(!t)return;let i=t.dataset.action;this.dp[i]()}),T(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),T(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),T(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),T(this,"update",()=>{let{prevHtml:e,nextHtml:t}=this.opts;this.$prev.innerHTML=e,this.$next.innerHTML=t,this._resetNavStatus(),this.render(),this.handleNavStatus()}),T(this,"renderDelay",()=>{setTimeout(this.render)}),T(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(e,t){for(let i in t)t[i]?e.classList.add(i):e.classList.remove(i)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=t,this.opts=i,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=n(".air-datepicker-nav--title",this.$el),this.$prev=n('[data-action="prev"]',this.$el),this.$next=n('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=a({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:t}=this,i=t.navTitles[e.currentView];return"function"==typeof i?i(e):e.formatDate(e.viewDate,i)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:t,maxDate:s}=this.dp;if(!t&&!s||!e)return;let{year:n,month:a}=this.dp.parsedViewDate,r=!!t&&l(t),o=!!s&&l(s);switch(this.dp.currentView){case i.days:t&&r.month>=a&&r.year>=n&&this._disableNav("prev"),s&&o.month<=a&&o.year<=n&&this._disableNav("next");break;case i.months:t&&r.year>=n&&this._disableNav("prev"),s&&o.year<=n&&this._disableNav("next");break;case i.years:{let e=c(this.dp.viewDate);t&&r.year>=e[0]&&this._disableNav("prev"),s&&o.year<=e[1]&&this._disableNav("next")}}}_disableNav(e){n('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){!function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];e.length?e.forEach(e=>{e.classList.remove(...i)}):e.classList.remove(...i)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:t}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${t}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find(t=>"function"==typeof e[t])}}var E={today:{content:e=>e.locale.today,onClick:e=>e.setViewDate(new Date)},clear:{content:e=>e.locale.clear,onClick:e=>e.clear()}};class O{constructor(e){let{dp:t,opts:i}=e;this.dp=t,this.opts=i,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=a({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach(e=>{let t=e;"string"==typeof e&&E[e]&&(t=E[e]);let i=this.createButton(t);t.onClick&&this.attachEventToButton(i,t.onClick),this.$el.appendChild(i)})}attachEventToButton(e,t){e.addEventListener("click",()=>{t(this.dp)})}createButton(e){let{content:t,className:i,tagName:s="button",attrs:n={}}=e;return a({tagName:s,innerHtml:`<span tabindex='-1'>${"function"==typeof t?t(this.dp):t}</span>`,className:u("air-datepicker-button",i),attrs:n})}render(){this.generateButtons()}}function A(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class N{constructor(){let{opts:e,dp:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,"toggleTimepickerIsActive",e=>{this.dp.timepickerIsActive=e}),A(this,"onChangeSelectedDate",e=>{let{date:t,updateTime:i=!1}=e;t&&(this.setMinMaxTime(t),this.setCurrentTime(!!i&&t),this.addTimeToDate(t))}),A(this,"onChangeLastSelectedDate",e=>{e&&(this.setTime(e),this.render())}),A(this,"onChangeInputRange",e=>{let t=e.target;this[t.getAttribute("name")]=t.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),A(this,"onMouseEnterLeave",e=>{let t=e.target.getAttribute("name"),i=this.$minutesText;"hours"===t&&(i=this.$hoursText),i.classList.toggle("-focus-")}),A(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),A(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=e,this.dp=t;let{timeFormat:s}=this.dp.locale;s&&(s.match(_("h"))||s.match(_("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),f(this.$ranges,e,this.onChangeInputRange),f(this.$ranges,"mouseenter",this.onMouseEnterLeave),f(this.$ranges,"mouseleave",this.onMouseEnterLeave),f(this.$ranges,"focus",this.onFocus),f(this.$ranges,"mousedown",this.onFocus),f(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=a({className:u("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:t,displayHours:i,minutes:s,minHours:n,minMinutes:a,maxHours:r,maxMinutes:o,dayPeriod:l,opts:{hoursStep:h,minutesStep:c}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${d(i)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${d(s)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${l}</span>`:"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+`      <input type="range" name="hours" value="${t}" min="${n}" max="${r}" step="${h}"/>   </div>   <div class="air-datepicker-time--row">`+`      <input type="range" name="minutes" value="${s}" min="${a}" max="${o}" step="${c}"/>   </div></div>`}defineDOM(){let e=e=>n(e,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:t,maxDate:i}=this.dp;t&&p(e,t)&&this.setMinTimeFromMinDate(t),i&&p(e,i)&&this.setMaxTimeFromMaxDate(i)}}setCurrentTime(e){let{hours:t,minutes:i}=e?l(e):this;this.hours=D(t,this.minHours,this.maxHours),this.minutes=D(i,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:t,maxHours:i,maxMinutes:s}=this.opts;this.minHours=D(e,0,23),this.minMinutes=D(t,0,59),this.maxHours=D(i,0,23),this.maxMinutes=D(s,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:t}=this.dp;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:t}=this.dp;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}updateSliders(){r(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,r(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=d(this.displayHours),this.$minutesText.innerHTML=d(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:t,dayPeriod:i}=h(e);this.displayHours=this.ampm?t:e,this.dayPeriod=i}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function F(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class L{constructor(e){let{dp:t,opts:i}=e;F(this,"pressedKeys",new Set),F(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],e=>e.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],e=>e.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],e=>e.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],e=>e.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],e=>e.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],e=>e.year-=10],[["Control","Shift","ArrowUp"],(e,t)=>t.up()]])),F(this,"handleHotKey",e=>{let t=this.hotKeys.get(e),i=l(this.getInitialFocusDate());t(i,this.dp);let{year:s,month:n,date:a}=i,r=o(new Date(s,n));r<a&&(a=r);let h=this.dp.getClampedDate(new Date(s,n,a));this.dp.setFocusDate(h,{viewDateTransition:!0})}),F(this,"isHotKeyPressed",()=>{let e=!1,t=this.pressedKeys.size,i=e=>this.pressedKeys.has(e);for(let[s]of this.hotKeys){if(e)break;if(Array.isArray(s[0]))s.forEach(n=>{e||t!==n.length||(e=n.every(i)&&s)});else{if(t!==s.length)continue;e=s.every(i)&&s}}return e}),F(this,"isArrow",e=>e>=37&&e<=40),F(this,"onKeyDown",e=>{let{key:t,which:i}=e,{dp:s,dp:{focusDate:n},opts:a}=this;this.registerKey(t);let r=this.isHotKeyPressed();if(r)return e.preventDefault(),void this.handleHotKey(r);if(this.isArrow(i))return e.preventDefault(),void this.focusNextCell(t);if("Enter"===t){if(s.currentView!==a.minView)return void s.down();if(n){let e=s._checkIfDateIsSelected(n);return void(e?s._handleAlreadySelectedDates(e,n):s.selectDate(n))}}"Escape"===t&&this.dp.hide()}),F(this,"onKeyUp",e=>{this.removeKey(e.key)}),this.dp=t,this.opts=i,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:t,selectedDates:s,parsedViewDate:{year:n,month:a}}=this.dp,r=e||s[s.length-1];if(!r)switch(t){case i.days:r=new Date(n,a,(new Date).getDate());break;case i.months:r=new Date(n,a,1);break;case i.years:r=new Date(n,0,1)}return r}focusNextCell(e){let t=this.getInitialFocusDate(),{currentView:s}=this.dp,{days:n,months:a,years:r}=i,o=l(t),h=o.year,d=o.month,c=o.date;switch(e){case"ArrowLeft":s===n&&(c-=1),s===a&&(d-=1),s===r&&(h-=1);break;case"ArrowUp":s===n&&(c-=7),s===a&&(d-=3),s===r&&(h-=4);break;case"ArrowRight":s===n&&(c+=1),s===a&&(d+=1),s===r&&(h+=1);break;case"ArrowDown":s===n&&(c+=7),s===a&&(d+=3),s===r&&(h+=4)}let u=this.dp.getClampedDate(new Date(h,d,c));this.dp.setFocusDate(u,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}function I(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,"string");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let H="",P="",j=!1;class R{static buildGlobalContainer(e){j=!0,H=a({className:e,id:e}),n("body").appendChild(H)}constructor(e,t){var r=this;if(I(this,"viewIndexes",[i.days,i.months,i.years]),I(this,"next",()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(e,t+1,1));break;case i.months:this.setViewDate(new Date(e+1,t,1));break;case i.years:this.setViewDate(new Date(e+10,0,1))}}),I(this,"prev",()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(e,t-1,1));break;case i.months:this.setViewDate(new Date(e-1,t,1));break;case i.years:this.setViewDate(new Date(e-10,0,1))}}),I(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),I(this,"setPosition",function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof(e=e||r.opts.position))return void(r.customHide=e({$datepicker:r.$datepicker,$target:r.$el,$pointer:r.$pointer,isViewChange:t,done:r._finishHide}));let i,s,{isMobile:n}=r.opts,a=r.$el.getBoundingClientRect(),o=r.$el.getBoundingClientRect(),l=r.$datepicker.offsetParent,h=r.$el.offsetParent,d=r.$datepicker.getBoundingClientRect(),c=e.split(" "),u=window.scrollY,p=window.scrollX,m=r.opts.offset,g=c[0],v=c[1];if(n)r.$datepicker.style.cssText="left: 50%; top: 50%";else{if(l===h&&l!==document.body&&(o={top:r.$el.offsetTop,left:r.$el.offsetLeft,width:a.width,height:r.$el.offsetHeight},u=0,p=0),l!==h&&l!==document.body){let e=l.getBoundingClientRect();o={top:a.top-e.top,left:a.left-e.left,width:a.width,height:a.height},u=0,p=0}switch(g){case"top":i=o.top-d.height-m;break;case"right":s=o.left+o.width+m;break;case"bottom":i=o.top+o.height+m;break;case"left":s=o.left-d.width-m}switch(v){case"top":i=o.top;break;case"right":s=o.left+o.width-d.width;break;case"bottom":i=o.top+o.height-d.height;break;case"left":s=o.left;break;case"center":/left|right/.test(g)?i=o.top+o.height/2-d.height/2:s=o.left+o.width/2-d.width/2}r.$datepicker.style.cssText=`left: ${s+p}px; top: ${i+u}px`}}),I(this,"_setInputValue",()=>{let{opts:e,$altField:t,locale:{dateFormat:i}}=this,{altFieldDateFormat:s,altField:n}=e;n&&t&&(t.value=this._getInputValue(s)),this.$el.value=this._getInputValue(i)}),I(this,"_getInputValue",e=>{let{selectedDates:t,opts:i}=this,{multipleDates:s,multipleDatesSeparator:n}=i;if(!t.length)return"";let a="function"==typeof e,r=a?e(s?t:t[0]):t.map(t=>this.formatDate(t,e));return a?r:r.join(n)}),I(this,"_checkIfDateIsSelected",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.days,s=!1;return r.selectedDates.some(i=>{let n=p(e,i,t);return s=n&&i,n}),s}),I(this,"_scheduleCallAfterTransition",e=>{this._cancelScheduledCall(),e&&e(!1),this._onTransitionEnd=()=>{e&&e(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),I(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),I(this,"setViewDate",e=>{if(!((e=b(e))instanceof Date)||p(e,this.viewDate))return;let t=this.viewDate;this.viewDate=e;let{onChangeViewDate:s}=this.opts;if(s){let{month:e,year:t}=this.parsedViewDate;s({month:e,year:t,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,e,t)}),I(this,"setFocusDate",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!e||(e=b(e))instanceof Date)&&(r.focusDate=e,r.trigger(i.eventChangeFocusDate,e,t))}),I(this,"setCurrentView",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.viewIndexes.includes(e)){if(r.currentView=e,r.elIsInput&&r.visible&&r.setPosition(void 0,!0),r.trigger(i.eventChangeCurrentView,e),!r.views[e]){let t=r.views[e]=new S({dp:r,opts:r.opts,type:e});r.shouldUpdateDOM&&r.$content.appendChild(t.$el)}r.opts.onChangeView&&!t.silent&&r.opts.onChangeView(e)}}),I(this,"_updateLastSelectedDate",e=>{this.lastSelectedDate=e,this.trigger(i.eventChangeLastSelectedDate,e)}),I(this,"destroy",()=>{let{showEvent:e,isMobile:t}=this.opts,i=this.$datepicker.parentNode;i&&i.removeChild(this.$datepicker),this.$el.removeEventListener(e,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),t&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),I(this,"update",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=w({},r.opts),{silent:n}=t;w(r.opts,e);let{timepicker:a,buttons:o,range:l,selectedDates:h,isMobile:d}=r.opts,c=r.visible||r.treatAsInline;r._createMinMaxDates(),r._limitViewDateByMaxMinDates(),r._handleLocale(),h&&(r.selectedDates=[],r.selectDate(h,{silent:n})),e.view&&r.setCurrentView(e.view,{silent:n}),r._setInputValue(),s.range&&!l?(r.rangeDateTo=!1,r.rangeDateFrom=!1):!s.range&&l&&r.selectedDates.length&&(r.rangeDateFrom=r.selectedDates[0],r.rangeDateTo=r.selectedDates[1]),s.timepicker&&!a?(c&&r.timepicker.destroy(),r.timepicker=!1,r.$timepicker.parentNode.removeChild(r.$timepicker)):!s.timepicker&&a&&r._addTimepicker(),!s.buttons&&o?r._addButtons():s.buttons&&!o?(r.buttons.destroy(),r.$buttons.parentNode.removeChild(r.$buttons)):c&&s.buttons&&o&&r.buttons.clearHtml().render(),!s.isMobile&&d?(r.treatAsInline||P||r._createMobileOverlay(),r._addMobileAttributes(),r.visible&&r._showMobileOverlay()):s.isMobile&&!d&&(r._removeMobileAttributes(),r.visible&&(P.classList.remove("-active-"),"function"!=typeof r.opts.position&&r.setPosition())),c&&(r.nav.update(),r.views[r.currentView].render(),r.currentView===i.days&&r.views[r.currentView].renderDayNames())}),I(this,"disableDate",(e,t)=>{(Array.isArray(e)?e:[e]).forEach(e=>{let i=b(e);if(!i)return;this.disabledDates[t?"delete":"add"](this.formatDate(i,"yyyy-MM-dd"));let s=this.getCell(i,this.currentViewSingular);s&&s.adpCell.render()},[])}),I(this,"enableDate",e=>{this.disableDate(e,!0)}),I(this,"isDateDisabled",e=>{let t=b(e);return this.disabledDates.has(this.formatDate(t,"yyyy-MM-dd"))}),I(this,"isOtherMonth",e=>{let{month:t}=l(e);return t!==this.parsedViewDate.month}),I(this,"isOtherYear",e=>{let{year:t}=l(e);return t!==this.parsedViewDate.year}),I(this,"isOtherDecade",e=>{let{year:t}=l(e),[i,s]=c(this.viewDate);return t<i||t>s}),I(this,"_onChangeSelectedDate",e=>{let{silent:t}=e;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!t&&this._triggerOnSelect()})}),I(this,"_onChangeFocusedDate",function(e){let{viewDateTransition:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let i=!1;t&&(i=r.isOtherMonth(e)||r.isOtherYear(e)||r.isOtherDecade(e)),i&&r.setViewDate(e),r.opts.onFocus&&r.opts.onFocus({datepicker:r,date:e})}),I(this,"_onChangeTime",e=>{let{hours:t,minutes:i}=e,s=new Date,{lastSelectedDate:n,opts:{onSelect:a}}=this,r=n;n||(r=s);let o=this.getCell(r,this.currentViewSingular),l=o&&o.adpCell;l&&l.isDisabled||(r.setHours(t),r.setMinutes(i),n?(this._setInputValue(),a&&this._triggerOnSelect()):this.selectDate(r))}),I(this,"_onFocus",e=>{this.visible||this.show()}),I(this,"_onBlur",e=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),I(this,"_onMouseDown",e=>{this.inFocus=!0}),I(this,"_onMouseUp",e=>{this.inFocus=!1,this.$el.focus()}),I(this,"_onResize",()=>{this.visible&&"function"!=typeof this.opts.position&&this.setPosition()}),I(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),I(this,"getViewDates",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.days;return S.getDatesFunction(e)(r)}),I(this,"isWeekend",e=>this.opts.weekends.includes(e)),I(this,"getClampedDate",e=>{let{minDate:t,maxDate:i}=this,s=e;return i&&m(e,i)?s=i:t&&g(e,t)&&(s=t),s}),this.$el=n(e),!this.$el)return;this.$datepicker=a({className:"air-datepicker"}),this.opts=w({},s,t),this.$customContainer=!!this.opts.container&&n(this.opts.container),this.$altField=n(this.opts.altField||!1);let{view:o,startDate:h}=this.opts;h||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=b(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=o,this.selectedDates=[],this.disabledDates=new Set,this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:t,opts:{inline:i,isMobile:s,selectedDates:a,keyboardNav:r,onlyTimepicker:o}}=this,l=n("body");j&&(!j||!H||l.contains(H))||i||!this.elIsInput||this.$customContainer||R.buildGlobalContainer(R.defaultGlobalContainerId),!s||P||t||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(i||this._bindEvents(),r&&!o&&(this.keyboardNav=new L({dp:this,opts:e}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!t&&this.show(),s&&!t&&this.$el.setAttribute("readonly",!0),t&&this._createComponents()}_createMobileOverlay(){P=a({className:"air-datepicker-overlay"}),H.appendChild(P)}_createComponents(){let{opts:e,treatAsInline:t,opts:{inline:i,buttons:s,timepicker:n,position:a,classes:r,onlyTimepicker:o,isMobile:l}}=this;this._buildBaseHtml(),this.elIsInput&&(i||this._setPositionClasses(a)),!i&&this.elIsInput||this.$datepicker.classList.add("-inline-"),r&&this.$datepicker.classList.add(...r.split(" ")),o&&this.$datepicker.classList.add("-only-timepicker-"),l&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new S({dp:this,type:this.currentView,opts:e}),this.nav=new V({dp:this,opts:e}),n&&this._addTimepicker(),s&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){P.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){P.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:t}=this.opts;this.minDate=!!e&&b(e),this.maxDate=!!t&&b(t)}_addTimepicker(){this.$timepicker=a({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new N({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=a({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new O({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){var e,t;let{inline:i}=this.opts;this.elIsInput?i?(e=this.$datepicker,(t=this.$el).parentNode.insertBefore(e,t.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=n(".air-datepicker--content",this.$datepicker),this.$pointer=n(".air-datepicker--pointer",this.$datepicker),this.$nav=n(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:t,firstDay:i,timepicker:s,onlyTimepicker:n,timeFormat:a,dateTimeSeparator:r}=this.opts;this.locale=JSON.parse(JSON.stringify(e)),t&&(this.locale.dateFormat=t),void 0!==a&&""!==a&&(this.locale.timeFormat=a);let{timeFormat:o}=this.locale;""!==i&&(this.locale.firstDay=i),s&&"function"!=typeof t&&(this.locale.dateFormat=[this.locale.dateFormat,o||""].join(o?r:"")),n&&"function"!=typeof t&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if("function"==typeof e)return void this.$datepicker.classList.add("-custom-position-");let t=(e=e.split(" "))[0],i=`air-datepicker -${t}-${e[1]}- -from-${t}-`;this.$datepicker.classList.add(...i.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:t,maxDate:i}=this;i&&m(e,i)&&this.setViewDate(i),t&&g(e,t)&&this.setViewDate(t)}formatDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewDate,t=arguments.length>1?arguments[1]:void 0;if(!((e=b(e))instanceof Date))return;let i=t,s=this.locale,n=l(e),a=n.dayPeriod,r=c(e),o=R.replacer;for(let[t,l]of Object.entries({T:e.getTime(),m:n.minutes,mm:n.fullMinutes,h:n.hours12,hh:n.fullHours12,H:n.hours,HH:n.fullHours,aa:a,AA:a.toUpperCase(),E:s.daysShort[n.day],EEEE:s.days[n.day],d:n.date,dd:n.fullDate,M:n.month+1,MM:n.fullMonth,MMM:s.monthsShort[n.month],MMMM:s.months[n.month],yy:n.year.toString().slice(-2),yyyy:n.year,yyyy1:r[0],yyyy2:r[1]}))i=o(i,_(t),l);return i}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currentView:n,parsedViewDate:a,selectedDates:r}=this,{updateTime:o}=s,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:h,multipleDates:d,range:c,autoClose:u,onBeforeSelect:p}=this.opts,g=r.length;if(Array.isArray(e))return e.forEach(e=>{this.selectDate(e,s)}),new Promise(e=>{setTimeout(e)});if((e=b(e))instanceof Date){if(p&&!p({date:e,datepicker:this}))return Promise.resolve();if(n===i.days&&e.getMonth()!==a.month&&l&&(t=new Date(e.getFullYear(),e.getMonth(),1)),n===i.years&&e.getFullYear()!==a.year&&h&&(t=new Date(e.getFullYear(),0,1)),t&&this.setViewDate(t),d&&!c){if(g===d)return;this._checkIfDateIsSelected(e)||r.push(e)}else if(c)switch(g){case 1:r.push(e),this.rangeDateTo||(this.rangeDateTo=e),m(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:null==s?void 0:s.silent,date:e,updateTime:o}),this._updateLastSelectedDate(e),u&&!this.timepickerIsActive&&this.visible&&(d||c?c&&1===g&&this.hide():this.hide()),new Promise(e=>{setTimeout(e)})}}unselectDate(e){let t=this.selectedDates,s=this;if((e=b(e))instanceof Date)return t.some((n,a)=>{if(p(n,e))return t.splice(a,1),s.selectedDates.length?s._updateLastSelectedDate(s.selectedDates[s.selectedDates.length-1]):(s.rangeDateFrom="",s.rangeDateTo="",s._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:e}),!0})}replaceDate(e,t){let s=this.selectedDates.find(t=>p(t,e,this.currentView)),n=this.selectedDates.indexOf(s);n<0||p(this.selectedDates[n],t,this.currentView)||(this.selectedDates[n]=t,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:t,updateTime:!0}),this._updateLastSelectedDate(t))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:e.silent}),new Promise(e=>{setTimeout(e)})}show(){let{onShow:e,isMobile:t}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),t&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:t}=this.opts,i=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(t=>{this.customHide||(!t||!i)&&(t||i)||this._finishHide(),e&&e(t)}),t&&P.classList.remove("-active-")}_triggerOnSelect(){let e=[],t=[],{selectedDates:i,locale:s,opts:{onSelect:n,multipleDates:a,range:r}}=this,o=a||r,l="function"==typeof s.dateFormat;i.length&&(e=i.map(v),t=l?a?s.dateFormat(e):e.map(e=>s.dateFormat(e)):e.map(e=>this.formatDate(e,s.dateFormat))),n({date:o?e:e[0],formattedDate:o?t:t[0],datepicker:this})}_handleAlreadySelectedDates(e,t){let{selectedDates:i,rangeDateFrom:s,rangeDateTo:n}=this,{range:a,toggleSelected:r}=this.opts,o=i.length,l="function"==typeof r?r({datepicker:this,date:t}):r,h=!!(a&&1===o&&e),d=h?v(t):t;a&&!l&&(2!==o&&this.selectDate(d),2===o&&p(s,n))||(l?this.unselectDate(d):this._updateLastSelectedDate(h?d:e))}_handleUpDownActions(e,t){if(!((e=b(e||this.focusDate||this.viewDate))instanceof Date))return;let i="up"===t?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[i])}getCell(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.day;if(!((e=b(e))instanceof Date))return;let{year:s,month:n,date:a}=l(e),r=`[data-year="${s}"]`,o=`[data-month="${n}"]`,h={[i.day]:`${r}${o}[data-date="${a}"]`,[i.month]:`${r}${o}`,[i.year]:`${r}`};return this.views[this.currentView]?this.views[this.currentView].$el.querySelector(h[t]):void 0}_showMobileOverlay(){P.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((e,t)=>parseFloat(t)+e,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return l(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return c(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||H}static replacer(e,t,i){return e.replace(t,function(e,t,s,n){return t+i+n})}}return I(R,"defaults",s),I(R,"version","3.5.0"),I(R,"defaultGlobalContainerId","air-datepicker-global-container"),Object.assign(R.prototype,{on(e,t){this.__events||(this.__events={}),this.__events[e]?this.__events[e].push(t):this.__events[e]=[t]},off(e,t){this.__events&&this.__events[e]&&(this.__events[e]=this.__events[e].filter(e=>e!==t))},removeAllEvents(){this.__events={}},trigger(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];this.__events&&this.__events[e]&&this.__events[e].forEach(e=>{e(...i)})}}),t.default}())&&e.__esModule?e.default:e;const C=(e,t)=>{new _(e,{view:"months",minView:"months",minDate:new Date,startDate:new Date,dateFormat:"MM/yy",multipleDatesSeparator:"/",onSelect:({formattedDate:i,datepicker:s})=>{e.value=i,t.textContent=i,s.hide()}})};var M={},k=M&&M.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,s,n)}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),x=M&&M.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$=(M&&M.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&k(t,e,i);return x(t,e),t})(n("eZcI0")),S={};Object.defineProperty(S,"__esModule",{value:!0}),S.cardholderName=void 0;var T=/^[\d\s-]*$/;function V(e,t){return{isValid:e,isPotentiallyValid:t}}S.cardholderName=function(e){return"string"!=typeof e?V(!1,!1):0===e.length?V(!1,!0):e.length>255?V(!1,!1):T.test(e)?V(!1,!0):V(!0,!0)};var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.cardNumber=void 0;var O={};O=function(e){for(var t,i=0,s=!1,n=e.length-1;n>=0;)t=parseInt(e.charAt(n),10),s&&(t*=2)>9&&(t=t%10+1),s=!s,i+=t,n--;return i%10==0};var A=n("eZcI0");function N(e,t,i){return{card:e,isPotentiallyValid:t,isValid:i}}E.cardNumber=function(e,t){if(void 0===t&&(t={}),"string"!=typeof e&&"number"!=typeof e)return N(null,!1,!1);var i,s,n=String(e).replace(/-|\s/g,"");if(!/^\d*$/.test(n))return N(null,!1,!1);var a=A(n);if(0===a.length)return N(null,!1,!1);if(1!==a.length)return N(null,!0,!1);var r=a[0];if(t.maxLength&&n.length>t.maxLength)return N(r,!1,!1);i=!0===t.skipLuhnValidation||r.type===A.types.UNIONPAY&&!0!==t.luhnValidateUnionPay||O(n),s=Math.max.apply(null,r.lengths),t.maxLength&&(s=Math.min(t.maxLength,s));for(var o=0;o<r.lengths.length;o++)if(r.lengths[o]===n.length)return N(r,n.length<s||i,i);return N(r,n.length<s,!1)};var F={},L=F&&F.__assign||function(){return(L=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(F,"__esModule",{value:!0}),F.expirationDate=void 0;var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.parseDate=void 0;var H={};function P(e,t,i){return{isValid:e,isPotentiallyValid:t,isCurrentYear:i||!1}}Object.defineProperty(H,"__esModule",{value:!0}),H.expirationYear=void 0,H.expirationYear=function(e,t){if(void 0===t&&(t=19),"string"!=typeof e)return P(!1,!1);if(""===e.replace(/\s/g,""))return P(!1,!0);if(!/^\d*$/.test(e))return P(!1,!1);var i,s=e.length;if(s<2)return P(!1,!0);var n=new Date().getFullYear();if(3===s)return P(!1,e.slice(0,2)===String(n).slice(0,2));if(s>4)return P(!1,!1);var a=parseInt(e,10),r=Number(String(n).substr(2,2)),o=!1;if(2===s){if(String(n).substr(0,2)===e)return P(!1,!0);i=r===a,o=a>=r&&a<=r+t}else 4===s&&(i=n===a,o=a>=n&&a<=n+t);return P(o,o,i)};var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.isArray=void 0,j.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},I.parseDate=function(e){if(/^\d{4}-\d{1,2}$/.test(e)?s=e.split("-").reverse():/\//.test(e)?s=e.split(/\s*\/\s*/g):/\s/.test(e)&&(s=e.split(/ +/g)),(0,j.isArray)(s))return{month:s[0]||"",year:s.slice(1).join()};var t,i,s,n=0===(i=Number(e[0]))?2:i>1||1===i&&Number(e[1])>2?1:1===i?(t=e.substr(1),(0,H.expirationYear)(t).isPotentiallyValid?1:2):5===e.length?1:e.length>5?2:1,a=e.substr(0,n);return{month:a,year:e.substr(a.length)}};var R={};function X(e,t,i){return{isValid:e,isPotentiallyValid:t,isValidForThisYear:i||!1}}function B(e,t,i,s){return{isValid:e,isPotentiallyValid:t,month:i,year:s}}Object.defineProperty(R,"__esModule",{value:!0}),R.expirationMonth=void 0,R.expirationMonth=function(e){var t=new Date().getMonth()+1;if("string"!=typeof e)return X(!1,!1);if(""===e.replace(/\s/g,"")||"0"===e)return X(!1,!0);if(!/^\d*$/.test(e))return X(!1,!1);var i=parseInt(e,10);if(isNaN(Number(e)))return X(!1,!1);var s=i>0&&i<13;return X(s,s,s&&i>=t)},F.expirationDate=function(e,t){if("string"==typeof e)e=e.replace(/^(\d\d) (\d\d(\d\d)?)$/,"$1/$2"),i=(0,I.parseDate)(String(e));else{if(null===e||"object"!=typeof e)return B(!1,!1,null,null);var i,s=L({},e);i={month:String(s.month),year:String(s.year)}}var n=(0,R.expirationMonth)(i.month),a=(0,H.expirationYear)(i.year,t);if(n.isValid){if(a.isCurrentYear){var r=n.isValidForThisYear;return B(r,r,i.month,i.year)}if(a.isValid)return B(!0,!0,i.month,i.year)}return n.isPotentiallyValid&&a.isPotentiallyValid?B(!1,!0,null,null):B(!1,!1,null,null)};var U={};function Y(e,t){return{isValid:e,isPotentiallyValid:t}}Object.defineProperty(U,"__esModule",{value:!0}),U.cvv=void 0,U.cvv=function(e,t){return(void 0===t&&(t=3),t=t instanceof Array?t:[t],"string"==typeof e&&/^\d*$/.test(e))?!function(e,t){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1}(t,e.length)?e.length<Math.min.apply(null,t)?Y(!1,!0):e.length>function(e){for(var t=3,i=0;i<e.length;i++)t=e[i]>t?e[i]:t;return t}(t)?Y(!1,!1):Y(!0,!0):Y(!0,!0):Y(!1,!1)};var z={};function K(e,t){return{isValid:e,isPotentiallyValid:t}}Object.defineProperty(z,"__esModule",{value:!0}),z.postalCode=void 0,z.postalCode=function(e,t){void 0===t&&(t={});var i=t.minLength||3;return"string"!=typeof e?K(!1,!1):e.length<i?K(!1,!0):K(!0,!0)},M={creditCardType:$,cardholderName:S.cardholderName,number:E.cardNumber,expirationDate:F.expirationDate,expirationMonth:R.expirationMonth,expirationYear:H.expirationYear,cvv:U.cvv,postalCode:z.postalCode};const q=e=>(0,M.number)(e),J=e=>{let t=document.getElementById("ccsingle"),i=q(e),s=i?.card?.type;if(console.log("type: ",s),s){let e=`https://logo.clearbit.com/${s.toLowerCase()}.com?size=60`;t.innerHTML="";let i=y("img.ccicon",{src:e,alt:`${s} logo`});t.append(i)}else t.innerHTML="logo"},Q=({target:e})=>{let t=document.getElementById("svgname"),i=document.getElementById("svgnameback");/[^a-zA-Z\s]/.test(e.value)&&alert("Please use Latin characters only"),e.value=e.value.replace(/[^a-zA-Z\s]|(.*\s.*)\s.*/g,"$1");let s=e.value.toLowerCase().replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase());t.textContent=s||"Name Surname",i.textContent=s||"Name Surname"},W=({target:e})=>{let t=document.getElementById("svgnumber");/[^\d\s]/.test(e.value.replace(/ /g,""))&&alert("Please enter numbers only"),e.value=e.value.replace(/\D/g,""),e.value.length>16&&(e.value=e.value.slice(0,16));let i=e.value.replace(/(\d{4})/g,"$1 ").trim();e.value=i,t.textContent=i||"XXXX XXXX XXXX XXXX"},Z=({target:e})=>{let t=document.getElementById("svgsecurity");/\D/.test(e.value)&&alert("Please enter numbers only"),e.value=e.value.replace(/\D/g,""),e.value.length>3&&(e.value=e.value.slice(0,3)),t.textContent=e.value||"XXX"},G=()=>{let e=document.getElementById("name"),t=document.getElementById("cardnumber"),i=document.getElementById("securitycode"),s=document.querySelector(".creditcard");e.addEventListener("input",Q),t.addEventListener("input",e=>{W(e);let t=e.target.value;q(t)&&J(t)}),i.addEventListener("input",Z),i.addEventListener("click",()=>{s.classList.toggle("flipped")}),s.addEventListener("click",()=>{s.classList.toggle("flipped")})};document.addEventListener("DOMContentLoaded",()=>{b(),C(document.getElementById("expirationdate"),document.getElementById("svgexpire")),G()});
//# sourceMappingURL=index.3bfcbcd1.js.map
